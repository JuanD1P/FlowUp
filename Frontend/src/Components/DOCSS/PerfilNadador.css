:root{
  --bg:#f4f7fb;
  --card:#ffffff;
  --ink:#0f172a;
  --muted:#5b6576;
  --border:#e6ebf2;
  --brand:#2e5aa7;
  --brand-600:#264a89;
  --brand-100:#e8effd;
  --accent:#1aa1ff;
  --ok:#18a27c;
  --warn:#ffb020;
  --err:#e25353;
  --ring:0 0 0 3px rgba(46,90,167,.18);
  --shadow:0 8px 30px rgba(16,24,40,.08);
  --radius:18px;
}

*{box-sizing:border-box}
html{height:auto}
body,#root{min-height:100%; overflow-y:auto !important; margin:0; background:var(--bg); color:var(--ink); font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,"Noto Sans",sans-serif}
#root, .App, .app, .layout, .page, .content, .wrapper, .container{height:auto !important; min-height:100% !important; overflow:visible !important}

.pf-page{max-width:1100px; margin:0 auto; padding:28px 18px 72px; overflow:visible; min-height:100%}

.pf-header{position:sticky; top:0; z-index:20; background:linear-gradient(180deg,#f4f7fb 60%,rgba(244,247,251,0)); padding:12px 0 18px; display:flex; align-items:flex-end; justify-content:space-between; gap:12px; backdrop-filter:saturate(1.2)}
.pf-headleft h2{margin:0; font-size:28px; font-weight:800; letter-spacing:.2px}
.pf-headleft p{margin:4px 0 0; color:var(--muted); font-size:14px}
.pf-actions{display:flex; align-items:center; gap:10px}

.pf-iconbtn{display:inline-flex; align-items:center; gap:8px; padding:10px 14px; border-radius:999px; border:1px solid var(--border); background:var(--card); color:var(--ink); cursor:pointer; box-shadow:var(--shadow); transition:.18s ease}
.pf-iconbtn:hover{transform:translateY(-1px)}
.pf-iconbtn:active{transform:translateY(0)}
.pf-iconbtn svg{font-size:18px}

.btn-primary,.btn-secondary{padding:11px 16px; border-radius:12px; font-weight:700; border:1px solid transparent; cursor:pointer; transition:.18s ease}
.btn-primary{background:linear-gradient(180deg,var(--brand),var(--brand-600)); color:#fff; box-shadow:0 6px 18px rgba(46,90,167,.25)}
.btn-primary:disabled{opacity:.6; cursor:not-allowed}
.btn-primary:hover{filter:brightness(1.03)}
.btn-secondary{background:var(--card); border-color:var(--border); color:var(--ink)}
.btn-secondary:hover{background:#fafbfd}

.pf-loading{display:grid; place-items:center; height:60vh; color:var(--muted); font-weight:600}

.pf-static,.pf-form{display:grid; gap:16px}
.pf-card{background:var(--card); border:1px solid var(--border); border-radius:var(--radius); padding:18px; box-shadow:var(--shadow)}
.pf-card h3{margin:0 0 14px; font-size:18px; font-weight:800; display:flex; align-items:center; gap:8px}
.pf-card h3::after{content:""; height:6px; width:6px; border-radius:999px; background:linear-gradient(90deg,var(--brand),var(--accent)); display:inline-block; margin-left:6px}

.pf-static-head{display:flex; align-items:center; gap:14px}
.pf-avatar{width:72px; height:72px; border-radius:50%; overflow:hidden; border:3px solid var(--brand-100); flex:0 0 auto}
.pf-avatar img{width:100%; height:100%; object-fit:cover}
.pf-avatar.lg{width:92px; height:92px; border-width:4px}
.pf-static-title h4{margin:0; font-size:20px; font-weight:800}
.pf-static-title p{margin:2px 0 0; color:var(--muted); font-size:14px}

.pf-static-grid{display:grid; grid-template-columns:repeat(4,1fr); gap:12px}
.pf-static-grid .pf-col-2{grid-column:span 2}
.pf-static-grid div{background:linear-gradient(180deg,#fcfdff,#f6f9ff); border:1px solid var(--border); border-radius:12px; padding:12px; display:flex; flex-direction:column; gap:6px}
.pf-static-grid span{color:var(--muted); font-size:12px}
.pf-static-grid strong{font-size:15px}

.pf-form .pf-avatar-row{display:grid; grid-template-columns:auto 1fr; gap:16px; align-items:center}
.pf-avatar-ctrls{display:grid; grid-template-columns:1fr 1fr auto; gap:12px; align-items:end; position:relative}

.pf-field{display:grid; gap:6px}
.pf-field span{font-size:12px; color:var(--muted)}
.pf-field .pf-hint{font-size:12px; color:var(--muted)}
.pf-field input,.pf-field select,.pf-field textarea{width:100%; padding:12px 12px; border-radius:12px; border:1px solid var(--border); background:#fff; color:var(--ink); font-size:15px; outline:none; transition:.15s ease}
.pf-field textarea{resize:vertical}
.pf-field input:focus,.pf-field select:focus,.pf-field textarea:focus{border-color:var(--brand); box-shadow:var(--ring)}

.pf-grid{display:grid; grid-template-columns:repeat(3,1fr); gap:12px}
.pf-span-2{grid-column:span 2}

.pf-card:has(.pf-static-head){background:radial-gradient(120px 120px at -20% -40%, var(--brand-100), transparent 60%), var(--card)}

.pf-modal{position:fixed; inset:0; z-index:60; display:grid; place-items:center; pointer-events:auto; overflow:auto}
.pf-modal__backdrop{position:absolute; inset:0; background:rgba(15,23,42,.48); backdrop-filter:blur(2px)}
.pf-modal__panel{position:relative; width:min(920px,92vw); max-height:min(88vh,1000px); background:var(--card); border:1px solid var(--border); border-radius:22px; box-shadow:var(--shadow); display:flex; flex-direction:column; overflow:hidden; animation:pfPop .18s ease}
.pf-modal__head{display:flex; align-items:center; justify-content:space-between; gap:12px; padding:14px; border-bottom:1px solid var(--border)}
.pf-modal__title{display:flex; align-items:center; gap:12px}
.pf-modal__preview{width:42px; height:42px; border-radius:50%; border:2px solid var(--brand-100); object-fit:cover}
.pf-modal__actions{display:flex; gap:10px}
.pf-modal__grid{padding:14px; display:grid; grid-template-columns:repeat(6,1fr); gap:12px; overflow:auto}

.pf-avatar-tile{border:1px solid var(--border); border-radius:14px; background:#fff; padding:10px; cursor:pointer; transition:.15s ease}
.pf-avatar-tile:hover{transform:translateY(-2px); box-shadow:0 6px 16px rgba(16,24,40,.08)}
.pf-avatar-tile img{display:block; width:100%; height:auto; border-radius:10px}

@keyframes pfPop{from{opacity:0; transform:translateY(-4px)} to{opacity:1; transform:translateY(0)}}

.pf-grid .pf-field input[disabled], .pf-grid .pf-field input[readonly]{background:#f7f9fc; color:#647084}

@media (max-width:1100px){
  .pf-static-grid{grid-template-columns:repeat(3,1fr)}
}
@media (max-width:920px){
  .pf-modal__grid{grid-template-columns:repeat(5,1fr)}
}
@media (max-width:820px){
  .pf-page{padding:22px 14px 60px}
  .pf-grid{grid-template-columns:1fr 1fr}
  .pf-static-grid{grid-template-columns:1fr 1fr}
  .pf-form .pf-avatar-row{grid-template-columns:1fr}
  .pf-avatar-ctrls{grid-template-columns:1fr 1fr}
  .pf-avatar{width:84px; height:84px}
  .pf-avatar.lg{width:96px; height:96px}
  .pf-modal__panel{width:min(720px,94vw)}
}
@media (max-width:640px){
  .pf-modal__grid{grid-template-columns:repeat(4,1fr)}
}
@media (max-width:520px){
  .pf-header{position:static}
  .pf-headleft h2{font-size:22px}
  .pf-avatar-ctrls{grid-template-columns:1fr}
  .pf-grid{grid-template-columns:1fr}
  .pf-static-grid{grid-template-columns:1fr}
  .pf-modal__grid{grid-template-columns:repeat(3,1fr)}
}

@media (max-height:700px){
  .pf-header{position:static}
}
