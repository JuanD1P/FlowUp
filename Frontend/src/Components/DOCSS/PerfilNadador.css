:root{
  --bg:#ecf3ff;
  --bg-2:#f7afff; /* <- typo? keep original */ 
}
/* ====== THEME / TOKENS ====== */
:root{
  --bg:#ecf3ff;
  --bg-2:#f7faff;
  --card:#ffffff;
  --ink:#0f172a;
  --muted:#5b6576;
  --border:#e6ebf2;
  --brand:#2e5aa7;
  --brand-600:#274c8c;
  --brand-700:#1f3f78;
  --brand-100:#e8effd;
  --accent:#1aa1ff;
  --ring:0 0 0 3px rgba(46,90,167,.18);
  --shadow:0 12px 36px rgba(20,40,120,.12);
  --shadow-2:0 18px 52px rgba(20,40,120,.18);
  --radius:20px;
}

/* ====== GLOBAL ====== */
html, body { overflow-x: hidden; }
*{ box-sizing:border-box }
html{ min-height:100% }
body{
  margin:0; min-height:100%;
  color:var(--ink);
  font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,"Noto Sans",sans-serif;
  background:
    radial-gradient(1400px 900px at 10% -10%, #cfe0ff 8%, transparent 40%),
    radial-gradient(800px 600px at 110% -20%, #d9e7ff 10%, transparent 50%),
    linear-gradient(180deg,var(--bg),var(--bg-2));
  overflow-y:auto !important;
  overflow-x:hidden;
}
#root{ min-height:100% }

/* ====== PAGE ====== */
.pf-page{
  max-width:1100px;
  margin:0 auto;
  padding:28px clamp(12px,4vw,22px) 84px;
  min-width:0; /* evita desborde */
  padding-bottom:max(84px, env(safe-area-inset-bottom));
}

/* ====== HEADER ====== */
.pf-header{
  position:sticky; top:0; z-index:40;
  background:linear-gradient(180deg,rgba(240,245,255,.85) 60%,rgba(240,245,255,0));
  -webkit-backdrop-filter:saturate(1.2) blur(6px);
  backdrop-filter:saturate(1.2) blur(6px);
  padding:12px 0 18px;
  display:flex; align-items:flex-end; justify-content:space-between; gap:12px
}
.pf-headleft h2{ margin:0; font-size:clamp(22px,3.2vw,30px); font-weight:900; letter-spacing:.2px }
.pf-headleft p{ margin:4px 0 0; color:var(--muted); font-size:14px }
.pf-actions{ display:flex; align-items:center; gap:10px; flex-wrap:wrap }

/* ====== BUTTONS ====== */
.pf-iconbtn{
  display:inline-flex; align-items:center; gap:8px;
  padding:10px 14px; border-radius:999px;
  border:1px solid var(--border); background:var(--card); color:var(--ink);
  cursor:pointer; box-shadow:var(--shadow);
  transition:transform .18s ease,box-shadow .18s ease,filter .18s ease
}
.pf-iconbtn:hover{ transform:translateY(-2px); box-shadow:var(--shadow-2) }
.pf-iconbtn:focus-visible{ outline:none; box-shadow:var(--ring) }
.pf-iconbtn svg{ font-size:18px }

.btn-primary,.btn-secondary{
  padding:12px 16px; border-radius:14px; font-weight:800; border:1px solid transparent;
  cursor:pointer; transition:transform .18s ease,filter .18s ease,box-shadow .18s ease;
  min-height:44px; /* tap-friendly */
}
.btn-primary{
  background:linear-gradient(180deg,var(--brand),var(--brand-600));
  color:#fff; box-shadow:0 12px 28px rgba(46,90,167,.28)
}
.btn-primary:hover{ transform:translateY(-1px); filter:brightness(1.03) }
.btn-primary:active{ transform:translateY(0) }
.btn-primary:disabled{ opacity:.6; cursor:not-allowed }
.btn-secondary{ background:var(--card); border-color:var(--border); color:var(--ink) }
.btn-secondary:hover{ background:#fafbfd }

/* ====== STATES ====== */
.pf-loading{ display:grid; place-items:center; height:60vh; color:var(--muted); font-weight:600 }

/* ====== CARDS / STATIC / FORM ====== */
.pf-static,.pf-form{ display:grid; gap:18px; min-width:0 }
.pf-card{
  background:
    radial-gradient(360px 160px at 0% -40%, var(--brand-100), transparent 60%),
    linear-gradient(180deg,#ffffff,#fbfdff);
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding:18px clamp(12px,3.6vw,18px);
  box-shadow:var(--shadow);
  min-width:0;
}
.pf-card h3{
  margin:0 0 14px; font-size:18px; font-weight:900;
  display:flex; align-items:center; gap:8px
}
.pf-card h3::after{
  content:""; height:8px; width:8px; border-radius:999px;
  background:conic-gradient(from 0deg,var(--brand) 0 40%,var(--accent) 40% 100%)
}

/* ====== HERO ====== */
.pf-hero{
  display:flex; align-items:center; justify-content:space-between; gap:14px;
  background:
    radial-gradient(180px 140px at -10% -30%, var(--brand-100), transparent 60%),
    linear-gradient(180deg,#ffffff,#f6f9ff)
}
.pf-hero-left{ display:flex; align-items:center; gap:14px }
.pf-hero-badges{ display:flex; gap:10px; flex-wrap:wrap }
.pf-badge{
  background:#fff; border:1px solid var(--border); border-radius:14px;
  padding:10px 12px; min-width:140px;
  transition:transform .18s ease,box-shadow .18s ease
}
.pf-badge:hover{ transform:translateY(-2px); box-shadow:var(--shadow) }
.pf-badge span{ display:block; color:#73809a; font-size:12px }
.pf-badge strong{ display:block; font-size:18px }

/* ====== AVATAR ====== */
.pf-avatar{
  width:104px; height:104px; border-radius:28px; overflow:hidden;
  border:4px solid var(--brand-100);
  background:#fff; display:grid; place-items:center; position:relative;
  box-shadow:inset 0 0 0 1px rgba(0,0,0,.03),0 10px 24px rgba(16,24,40,.10)
}
.pf-avatar img{ width:100%; height:auto; object-fit:contain }
.pf-avatar.sm{ width:44px; height:44px; border-width:2px; border-radius:16px }
.pf-static-title h4{ margin:0; font-size:20px; font-weight:900 }
.pf-static-title p{ margin:2px 0 0; color:var(--muted); font-size:14px }

/* ====== STATIC GRID ====== */
.pf-static-grid{
  display:grid; grid-template-columns:repeat(4, minmax(0,1fr)); gap:12px; min-width:0
}
.pf-static-grid .pf-col-2{ grid-column:span 2 }
.pf-static-grid div{
  background:linear-gradient(180deg,#fcfdff,#f6f9ff);
  border:1px solid var(--border); border-radius:14px; padding:12px;
  display:flex; flex-direction:column; gap:6px; min-height:68px; min-width:0
}
.pf-static-grid span{ color:#73809a; font-size:12px }
.pf-static-grid strong{ font-size:15px }

/* ====== FORM FIELDS ====== */
.pf-form .pf-avatar-row{
  display:grid; grid-template-columns:auto 1fr; gap:16px; align-items:center; min-width:0
}
.pf-avatar-ctrls{
  display:grid; grid-template-columns:1fr 1fr auto; gap:12px; align-items:end; position:relative; min-width:0
}

.pf-field{ display:grid; gap:6px; min-width:0 }
.pf-field span{ font-size:12px; color:#73809a }
.pf-field .pf-hint{ font-size:12px; color:#73809a; white-space:normal }
.pf-field input,.pf-field textarea{
  width:100%; max-width:100%;
  padding:12px 12px; border-radius:12px; border:1px solid var(--border);
  background:#fff; color:var(--ink); font-size:16px; /* 16px evita zoom iOS */
  outline:none; transition:border-color .15s ease,box-shadow .15s ease,transform .08s ease
}
.pf-field textarea{ resize:vertical }
.pf-field input:focus,.pf-field textarea:focus{ border-color:var(--brand); box-shadow:var(--ring) }
.pf-field input:active{ transform:scale(.998) }

/* ====== SELECT FLUID ====== */
.sf{ position:relative; width:100% }
.sf-btn{
  width:100%; text-align:left; display:flex; justify-content:space-between; align-items:center; gap:8px;
  padding:12px; border:1px solid var(--border); border-radius:12px; background:#fff; color:var(--ink); font-size:16px
}
.sf-btn:focus{ outline:none; box-shadow:var(--ring); border-color:var(--brand) }
.sf-text{ overflow:hidden; text-overflow:ellipsis; white-space:nowrap }
.sf-caret{ width:0; height:0; border-left:6px solid transparent; border-right:6px solid transparent; border-top:7px solid var(--brand-700) }

/* Menú por defecto (desktop) */
.sf-menu{
  position:absolute; left:0; right:0; top:calc(100% + 8px);
  max-height:min(42vh,280px); overflow:auto; border:1px solid var(--border); border-radius:12px; background:#fff;
  box-shadow:var(--shadow-2); z-index:60; overscroll-behavior:contain
}
.sf-opt{ padding:10px 12px; cursor:pointer }
.sf-opt:hover{ background:#f2f6ff }
.sf-opt.sel{ background:#e8effd; font-weight:700 }

/* ====== GRID (EDIT) ====== */
.pf-grid{
  display:grid; grid-template-columns:repeat(3, minmax(0,1fr)); gap:12px; min-width:0
}
.pf-span-2{ grid-column:span 2 }

/* ====== MODAL ====== */
.pf-modal{ position:fixed; inset:0; z-index:70; display:grid; place-items:center }
.pf-modal__backdrop{ position:absolute; inset:0; background:rgba(15,23,42,.52); -webkit-backdrop-filter:blur(3px); backdrop-filter:blur(3px) }
.pf-modal__panel{
  position:relative; width:min(980px,94vw); max-height:min(92vh,1000px); background:var(--card);
  border:1px solid var(--border); border-radius:24px; box-shadow:var(--shadow-2);
  display:flex; flex-direction:column; overflow:hidden
}
.pf-modal__head{ display:flex; align-items:center; justify-content:space-between; gap:12px; padding:14px; border-bottom:1px solid var(--border) }
.pf-modal__title{ display:flex; align-items:center; gap:12px }
.pf-modal__actions{ display:flex; gap:10px }

/* ====== CAROUSEL (AVATARS) ====== */
.pf-carousel{ position:relative; padding:18px 56px 24px }
.pf-car-btn{
  position:absolute; top:50%; transform:translateY(-50%); width:42px; height:42px; border-radius:12px; border:1px solid var(--border);
  background:#fff; color:var(--brand); display:grid; place-items:center; cursor:pointer; box-shadow:var(--shadow);
  transition:transform .15s ease,box-shadow .15s ease
}
.pf-car-btn:hover{ transform:translateY(calc(-50% - 1px)); box-shadow:var(--shadow-2) }
.pf-car-btn.left{ left:10px }
.pf-car-btn.right{ right:10px }
.pf-av-row{
  display:grid; grid-auto-flow:column; grid-auto-columns:minmax(26%, 1fr); gap:12px; overflow:auto;
  scroll-snap-type:x mandatory; padding:6px; scroll-behavior:smooth; scrollbar-gutter:stable
}
.pf-av-row::-webkit-scrollbar{ height:8px }
.pf-av-row::-webkit-scrollbar-thumb{ background:#d6e4ff; border-radius:999px }
.pf-avatar-tile{
  scroll-snap-align:start; border:1px solid var(--border); border-radius:16px; background:#fff; display:grid; place-items:center;
  padding:12px; cursor:pointer; transition:transform .16s ease,box-shadow .16s ease,border-color .16s ease
}
.pf-avatar-tile:hover{ transform:translateY(-3px); box-shadow:0 10px 26px rgba(16,24,40,.14); border-color:rgba(46,90,167,.4) }
.pf-avatar-tile img{ display:block; width:100%; aspect-ratio:1/1; object-fit:contain; border-radius:12px }

/* ====== STATIC HEAD ====== */
.pf-static-head{ display:flex; align-items:center; gap:14px }

/* ====== STICKY ACTIONS (mobile, opcional) ====== */
.pf-sticky-actions{
  position:fixed; left:0; right:0; bottom:0; z-index:45;
  padding:12px clamp(12px, 4vw, 18px) max(12px, env(safe-area-inset-bottom));
  background:linear-gradient(180deg, rgba(246,249,255,.88), #f6f9ff);
  border-top:1px solid var(--border);
  display:none; gap:10px; justify-content:flex-end;
  backdrop-filter:saturate(1.2) blur(6px);
}
.pf-sticky-actions .btn-primary,.pf-sticky-actions .btn-secondary{ min-width:120px }

/* ====== BREAKPOINTS ====== */
@media (max-width:1100px){
  .pf-static-grid{ grid-template-columns:repeat(3, minmax(0,1fr)) }
}
@media (max-width:900px){
  .pf-grid{ grid-template-columns:1fr }
  .pf-span-2{ grid-column:auto }
  .pf-static-grid{ grid-template-columns:1fr 1fr }
  .pf-hero{ flex-direction:column; align-items:stretch }
  .pf-hero-badges{ justify-content:space-between }
  .pf-av-row{ grid-auto-columns:minmax(32%,1fr) }
  .pf-sticky-actions{ display:flex }
}
@media (max-width:700px){
  .pf-page{ padding:22px clamp(10px,4vw,16px) 72px }
  .pf-modal__panel{ width:min(760px,96vw) }
  .pf-carousel{ padding:16px 52px 22px }
  .pf-av-row{ grid-auto-columns:minmax(44%,1fr) }
  .pf-avatar-ctrls{ grid-template-columns:1fr }
}
@media (max-width:520px){
  .pf-header{ position:static }
  .pf-headleft h2{ font-size:22px }
  .pf-grid{ grid-template-columns:1fr }
  .pf-static-grid{ grid-template-columns:1fr }
  .pf-card{ padding-inline:clamp(12px,5vw,16px) }
  .pf-av-row{ grid-auto-columns:minmax(62%,1fr) }
  .pf-car-btn{ width:38px; height:38px }

  /* Menú Select: bottom sheet */
  .sf.open .sf-menu{
    position:fixed;
    left:12px; right:12px;
    bottom:12px; top:auto;
    max-height:50vh;
    border-radius:16px; padding-block:4px;
  }
}
@media (max-height:700px){
  .pf-header{ position:static }
}

/* ====== ACCESSIBILITY ====== */
:where(button,input,textarea){ border-radius:12px }
:where(button,input,textarea):focus-visible{ outline:none; box-shadow:var(--ring) }
@media (prefers-reduced-motion: reduce){
  *{ animation:none !important; transition:none !important; scroll-behavior:auto !important }
}
